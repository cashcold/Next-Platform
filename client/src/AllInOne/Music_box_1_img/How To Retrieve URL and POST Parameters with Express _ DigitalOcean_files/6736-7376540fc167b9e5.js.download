"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6736],{790:function(e,n,t){t.d(n,{Z:function(){return $}});var r=t(27812),o=t(50029),i=t(16835),l=t(87794),a=t.n(l),s=t(67294),c=t(5152),d=t(41664),u=t(11163),p=t(31109),m=t(26125),f=t(33005),h=t(19164),g=t(66374),x=t(79168),y=t(96670),b=t(31541),v=t(98954),C=t(4210),w=t(68324),j=t(18422),Z=t(82802),_=t(47811),k=t(22708),S=t(37797),P=S.ZP.div.withConfig({displayName:"UpvoteSyles__StyledUpvoteContainer",componentId:"sc-1it9y7o-0"})(["align-items:center;cursor:pointer;display:flex;flex-direction:column;margin-right:0.5vw;"]),T=S.ZP.div.withConfig({displayName:"UpvoteSyles__StyledUpvoteCount",componentId:"sc-1it9y7o-1"})(["color:",";"],j.ZP.gray5),L=t(85893),N=function(e){var n=e.upvotableId,t=e.upvotableType,r=(0,v.Z)(),i=(0,k.N)().setNeedLogIn,l=(0,s.useState)(null),c=l[0],d=l[1],u=(0,s.useCallback)((0,o.Z)(a().mark((function e(){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.token){e.next=3;break}return i(!0),e.abrupt("return");case 3:if(!c.upvoted){e.next=9;break}return e.next=6,(0,m.j_)(r.token,n,t);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,(0,m.VE)(r.token,n,t);case 11:e.t0=e.sent;case 12:o=e.t0,d(o);case 14:case"end":return e.stop()}}),e)}))),[r,n,t,c,i]);return(0,s.useEffect)((function(){r.token?(0,m.lA)(r.token,n,t).then((function(e){return d(e)})):(0,f.lA)(n,t).then((function(e){return d(e)}))}),[r,n,t]),(0,L.jsxs)(P,{children:[null!==c&&void 0!==c&&c.upvoted?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Z.Z,{size:20,color:j.ZP.red3}),(0,L.jsx)(_.Z,{size:20,color:j.ZP.red3,fill:j.ZP.red3,onClick:u})]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Z.Z,{size:20,color:j.ZP.grayBorder}),(0,L.jsx)(_.Z,{size:20,color:j.ZP.grayBorder,onClick:u})]}),(0,L.jsx)(T,{children:null!==c&&void 0!==c&&c.count?c.count.toLocaleString():""})]})},I=t(19022),O=S.ZP.span.withConfig({displayName:"CommentStyles__StyledCommentBody",componentId:"sc-gn53o-0"})(["color:",";font-size:16px;margin:0 0 8px;"],(function(e){return e.Color||j.ZP.grayDarkest})),D=(S.ZP.div.withConfig({displayName:"CommentStyles__StyledUserReportCommentContainer",componentId:"sc-gn53o-1"})(["display:flex;flex-direction:column;margin-bottom:16px;&:last-of-type{margin-bottom:0;}a{margin-left:0;text-decoration:none;:hover{border-bottom:none;}}"]),S.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentContainer",componentId:"sc-gn53o-2"})(["display:flex;flex-direction:row;margin:16px 0 0;"," "," "," overflow-x:auto;padding-bottom:13px;padding-right:15px;padding-top:21px;"],(function(e){return e.align&&"left"===e.align?"padding-left: 0px;":"padding-left: 15px;"}),(function(e){return e.accepted?"\n      background-color: rgba(0, 105, 255, 0.05);\n      border: 1px solid #e1e7f1;\n      border-radius: 3px;\n      ":null}),(function(e){return e.pinned?"\n        background-color: #f3f5f9;\n        border: 1px solid ".concat(j.ZP.grayLight,";\n        border-radius: 3px;\n        "):null}))),z=S.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentUpvoteContainer",componentId:"sc-gn53o-3"})(["display:flex;flex-grow:0;"]),U=S.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentMetaAndBody",componentId:"sc-gn53o-4"})(["display:flex;flex-direction:column;flex-grow:1;max-width:calc(100% - 24px - 0.5vw);"]),F=S.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentMetaContainer",componentId:"sc-gn53o-5"})(["align-items:center;display:flex;flex-direction:row;justify-content:space-between;span{font-size:18px;}"]),E=S.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentMetaNameAndDate",componentId:"sc-gn53o-6"})(["align-items:center;display:flex;"]),A=S.ZP.a.withConfig({displayName:"CommentStyles__StyledCommentMetaDate",componentId:"sc-gn53o-7"})(["color:#333;margin-left:10px;text-decoration:none;&:hover{border-bottom:1px dotted ",";}"],j.ZP.grayDarkest),M=S.ZP.a.withConfig({displayName:"CommentStyles__StyledCommentMetaName",componentId:"sc-gn53o-8"})(["color:",";cursor:pointer;font-size:18px;font-weight:500;line-height:1.6;margin-right:10px;text-decoration:none;"],j.ZP.blue2),q=S.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentActions",componentId:"sc-gn53o-9"})(["align-items:center;display:flex;margin-top:12px;"]),R=S.ZP.button.withConfig({displayName:"CommentStyles__StyledCommentAction",componentId:"sc-gn53o-10"})(["background:none;border:none;color:",";cursor:pointer;display:inline-block;font-size:13px;font-weight:400;margin-right:10px;padding:0;transition:color 0.2s ease-in-out;vertical-align:top;&:not(:disabled):hover{color:",";}&:disabled{color:",";cursor:not-allowed;}b{font-weight:500;}"],j.ZP.blue2,j.ZP.blue4,j.ZP.gray4),B=S.ZP.div.withConfig({displayName:"CommentStyles__StyledPinnedAnswerLabel",componentId:"sc-gn53o-11"})(["align-items:center;color:",";display:flex;span{font-size:12px;margin-left:2px;}"],j.ZP.blueLight),H=S.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentChildren",componentId:"sc-gn53o-12"})(["border-left:1px solid #ccc;margin-top:1vh;"]),G=S.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentChildrenForm",componentId:"sc-gn53o-13"})(["padding-left:15px;"]),V=S.ZP.div.withConfig({displayName:"CommentStyles__StyledError",componentId:"sc-gn53o-14"})(["background:#faa;border-radius:3px;margin:0 0 40px;padding:20px;"]),K=(0,c.default)((function(){return Promise.resolve().then(t.bind(t,31370))}),{loadableGenerated:{webpack:function(){return[31370]}}}),Y=function e(n){var t,l,c=n.record,j=n.topLevelType,Z=n.topLevel,_=n.handleUpdatedTopLevel,k=n.parent,S=n.align,P=n.accepted,T=n.pinned,Y=n.loadNested,$=n.replyable,Q=n.handleUpdatedComment,W=n.urlFormatter,X=n.upvotable,J=n.users,ee=(0,v.Z)(),ne=(0,u.useRouter)(),te=(0,C.ZP)(),re=(0,i.Z)(te,2),oe=re[0],ie=re[1],le=(0,s.useState)(),ae=le[0],se=le[1],ce=(0,s.useState)(!1),de=ce[0],ue=ce[1],pe=(0,s.useState)(!1),me=pe[0],fe=pe[1],he=ee.permissions.has(y.P.flags.MANAGE_COMMENTS)||ee.permissions.has(y.P.flags.ADMINISTRATOR),ge=(null===(t=ee.user)||void 0===t?void 0:t.id)===c.user_id||he,xe=(null===(l=ee.user)||void 0===l?void 0:l.id)===(null===Z||void 0===Z?void 0:Z.user_id),ye=new Date-new Date(c.created_at)<36e5,be=(0,s.useState)(null),ve=be[0],Ce=be[1],we=(0,s.useState)([]),je=we[0],Ze=we[1],_e=(0,s.useState)(c),ke=_e[0],Se=_e[1],Pe=(0,s.useState)(Y?0:"last"),Te=Pe[0],Le=Pe[1],Ne=(0,s.useState)(!1),Ie=Ne[0],Oe=Ne[1],De=(0,s.useState)(!1),ze=De[0],Ue=De[1],Fe=(0,s.useState)(!1),Ee=Fe[0],Ae=Fe[1],Me=function(e){console.error(e),Ce(e.message)},qe=(0,s.useCallback)(function(){var e=(0,o.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!me){e.next=2;break}return e.abrupt("return");case 2:fe(!0),(0,m.uA)(ee.token,c.id,n).then((function(e){return e&&Q(e)})).catch(Me).finally((function(){return fe(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[me,ee.token,c.id,Q]),Re=function(e){Ze((function(n){return n.map((function(n){return n.id===e.id?e:n}))}))},Be=(0,s.useCallback)(function(){var e=(0,o.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!me){e.next=2;break}return e.abrupt("return");case 2:fe(!0),(0,m.ZY)(ee.token,Z.slug,n).then((function(e){console.log(e),_(e)})).catch(Me).finally((function(){return fe(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[me,ee.token,Z.slug,_]);return(0,s.useEffect)((function(){"last"!==Te&&(0,f.xP)("comment",c.id,{type:"comment",page:Te,per_page:g.oA.commentsPerPage}).then((function(e){Ze((function(n){return n.concat(e)})),e.length<g.oA.commentsPerPage?Le("last"):Le(Te+1)}))}),[c,Te]),(0,s.useEffect)((function(){ge&&"trashed"===c.state&&(0,m._g)(ee.token,c.id).then((function(e){Se(e)})).catch((function(e){return console.error(e)}))}),[ee,ge,c]),(0,s.useEffect)((function(){var e;ne.isReady&&se(parseInt(null===(e=ne.query)||void 0===e?void 0:e.comment,10))}),[ne]),(0,s.useEffect)((function(){ie.current&&!de&&(oe(),ue(!0))}),[ie,oe,de]),(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(D,{align:S,accepted:P,pinned:T,ref:ae===c.id?ie:null,children:[X&&(0,L.jsx)(z,{children:(0,L.jsx)(N,{upvotableId:c.id,upvotableType:"comment"})}),(0,L.jsxs)(U,{children:[(0,L.jsxs)(F,{children:[(0,L.jsxs)(E,{children:[(0,L.jsx)(d.default,{href:(0,b.F7)("user",c.user.slug),passHref:!0,children:(0,L.jsx)(M,{children:(0,x.Z)(c.user)})}),(0,L.jsx)("span",{children:" \u2022 "}),(0,L.jsx)(d.default,{href:W(c.id),passHref:!0,children:(0,L.jsx)(A,{children:(0,h.Z)(c.created_at)})})]}),(0,L.jsxs)("div",{children:[T?(0,L.jsxs)(B,{children:[(0,L.jsx)(p.Z,{height:16,width:16,color:"#0180ff"}),(0,L.jsx)("span",{children:"Pinned Answer"})]}):null,P?(0,L.jsxs)(B,{children:[(0,L.jsx)(p.Z,{height:16,width:16,color:"#0180ff"}),(0,L.jsx)("span",{children:"Accepted Answer"})]}):null]})]}),ze?(0,L.jsx)(I.Z,{topLevelType:j,topLevel:Z,parentType:c.parent_type,parent:k||Z,showHeader:!1,record:ke,type:c.type,buttonText:"Update ".concat(c.type),onSave:function(e){Ue((function(e){return!e})),Se(e)},usersThread:[].concat((0,r.Z)(J),[c.user.slug])}):(0,L.jsx)(O,{Color:"trashed"===c.state?"red":null,children:(0,L.jsx)(K,{content:ke.content})}),(0,L.jsxs)(q,{children:[$&&j&&Z&&null==c.comments_locked_at?(0,L.jsx)(R,{onClick:function(){return Oe((function(e){return!e}))},children:(0,L.jsx)("b",{children:"Reply"})}):null,(0,L.jsx)(R,{children:(0,L.jsx)(w.Z,{record:c,reportedType:"Comment",auth:ee,text:"Report",size:"small",isReportModalOpen:Ee,setIsReportModalOpen:Ae})}),ge&&ye&&"published"===c.state||he?(0,L.jsx)(R,{onClick:function(){return Ue((function(e){return!e}))},children:"Edit"}):null,(ge&&ye||he)&&"trashed"!==c.state?(0,L.jsx)(R,{onClick:function(){return qe({state:"trashed"})},disabled:me,children:"Delete"}):null,"published"!==c.state&&he?(0,L.jsx)(R,{onClick:function(){return qe({state:"published"})},disabled:me,children:"Publish"}):null,he?(0,L.jsxs)(L.Fragment,{children:[null===c.comments_locked_at?(0,L.jsx)(R,{onClick:function(){return qe({comments_locked_at:new Date})},disabled:me,children:"Lock ALL Comments"}):(0,L.jsx)(R,{onClick:function(){return qe({comments_locked_at:null})},disabled:me,children:"Unlock All Comments"}),(0,L.jsx)(R,{onClick:function(){return qe({state:"spam"})},disabled:me,children:"Spam"})]}):null,"question"===c.top_level_type&&"answer"===c.type&&he?T?(0,L.jsx)(R,{onClick:function(){return Be({pinned_id:null})},disabled:me,children:"Unpin"}):(0,L.jsx)(R,{onClick:function(){return Be({pinned_id:c.id})},disabled:me,children:"Pin"}):null,"question"===c.top_level_type&&"answer"===c.type&&(he||xe)?P?(0,L.jsx)(R,{onClick:function(){return Be({accepted_id:null})},disabled:me,children:"Unmark as accepted"}):(0,L.jsx)(R,{onClick:function(){return Be({accepted_id:c.id})},disabled:me,children:"Mark as accepted"}):null]}),ve&&(0,L.jsxs)(V,{children:[(0,L.jsx)("b",{children:"An error occurred:"})," ",ve]}),(0,L.jsxs)(H,{children:[$&&Ie&&j&&Z?(0,L.jsx)(G,{children:(0,L.jsx)(I.Z,{topLevelType:j,topLevel:Z,parentType:"comment",parent:c,type:"comment",onSave:function(e){Ze((function(n){return n.concat(e)})),Oe(!1)},showHeader:!1,usersThread:[].concat((0,r.Z)(J),[c.user.slug])})}):null,je.map((function(n){return(0,L.jsx)(e,{record:n,topLevelType:j,topLevel:Z,handleUpdatedTopLevel:_,parent:c,align:"nested",loadNested:Y,replyable:$,handleUpdatedComment:Re,users:[].concat((0,r.Z)(J),[c.user.slug])},n.id)}))]})]})]},c.id)})},$=Y;Y.defaultProps={topLevel:null,handleUpdatedTopLevel:function(){},parent:null,align:null,accepted:!1,pinned:!1,loadNested:!1,replyable:!1,upvotable:!1,urlFormatter:function(){return"#"},users:[]}},15934:function(e,n,t){t.d(n,{B:function(){return o}});var r=t(18422),o=t(37797).ZP.button.withConfig({displayName:"LoadMoreButtonStyles__StyledLoadMoreButton",componentId:"sc-1my1ou7-0"})(["background:",";border:1px solid ",";border-radius:10px;box-shadow:none;color:",";cursor:pointer;font-size:16px;line-height:24px;margin:1rem auto;padding:8px 20px;text-align:center;&:hover{background:",";box-shadow:0 10px 20px ",";color:",";transition:box-shadow 0.25s linear,-webkit-box-shadow 0.25s linear;}"],r.ZP.white,r.ZP.grayBorder,r.ZP.gray3,r.ZP.blueHover,(0,r.E9)(r.ZP.blueDark,.1),r.ZP.white)},89006:function(e,n,t){var r=t(37797),o=t(15934),i=t(85893),l=function(e){var n=e.visible,t=e.onClick,r=e.message,o=e.styles;return n&&(0,i.jsx)(a,{type:"button",onClick:t,$_css:o,children:r})};n.Z=l,l.defaultProps={message:"Load More",styles:null};var a=(0,r.ZP)(o.B).withConfig({displayName:"LoadMoreButton___StyledStyledLoadMoreButton",componentId:"sc-1xkxrc2-0"})(["",""],(function(e){return e.$_css}))},68975:function(e,n,t){var r=t(59499),o=t(27812),i=t(67294),l=t(52975),a=t(53151),s=t(99563),c=t(85893);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=function(e){var n=e.value,t=e.onChange,r=e.disabled,d=e.required,p=e.id,m=e.placeholder,f=e.style,h=e.usersThread,g=(0,i.useState)(!1),x=g[0],y=g[1],b=(0,i.useState)(null),v=b[0],C=b[1],w=(0,i.useState)(0),j=w[0],Z=w[1],_=(0,i.useState)(null),k=_[0],S=_[1],P=(0,i.useState)(null),T=P[0],L=P[1],N=(0,i.useState)(""),I=N[0],O=N[1],D=(0,i.useState)([]),z=D[0],U=D[1],F=(0,i.useRef)(),E=(0,i.useRef)();(0,i.useEffect)((function(){U((0,o.Z)(new Set(h.sort())))}),[h]);var A=(0,i.useCallback)((function(){S(null),L(null),C(null),O(""),Z(0),y(!1),F.current()}),[F]),M=(0,i.useCallback)((function(e){var n=e.cursor,t=e.hookType,r=e.text;switch(t){case"start":O(""),y(!0),C(n.selectionStart),S(n.left),L(n.top+n.height);break;case"cancel":A();break;default:O(r.substring(0,n.selectionEnd-v))}}),[A,v]),q=(0,i.useCallback)((function(e){var r=z[e],o="".concat(n.slice(0,v)).concat(r).concat(n.slice(v,n.length));t(o),E.current.element.value=o,E.current.element.focus({preventScroll:!0}),E.current.element.setSelectionRange(v+r.length,v+r.length),A()}),[z,n,v,t,A]),R=(0,i.useCallback)((function(e){if(E.current.state.triggered)switch(e.which){case 38:e.preventDefault(),Z((function(e){return e>0?e-1:z.length-1}));break;case 40:e.preventDefault(),Z((function(e){return(e+1)%z.length}));break;case 13:e.preventDefault(),q(j);break;case 27:e.preventDefault(),A()}}),[q,z.length,A,j]),B={trigger:{keyCode:50,shiftKey:!0},onStart:M,onCancel:M,onType:M,endHandler:F};return(0,c.jsxs)(l.Z,{style:u(u({},f),{},{position:"relative"}),onKeyDown:R,children:[x&&(0,c.jsx)(s.aV,{cursorLeft:k,cursorTop:T+65,children:(0,c.jsx)("ul",{children:z.filter((function(e){return-1!==e.indexOf(I)})).map((function(e,n){return(0,c.jsx)(s.Dy,{selectedUser:n===j,children:(0,c.jsx)(s.U,{onClick:function(){return q(n)},children:e})},"suggested-".concat(e))}))})}),(0,c.jsx)(a.Z,{value:n,onChange:t,disabled:r,required:d,placeholder:m,inputTrigger:B,id:p,mentionsRef:E})]})};n.Z=p,p.defaultProps={disabled:!1,required:!1,id:null,placeholder:null,style:{},usersThread:[]}},99563:function(e,n,t){t.d(n,{Gq:function(){return l},mI:function(){return a},uI:function(){return s},sD:function(){return c},aV:function(){return d},Dy:function(){return u},U:function(){return p}});var r=t(18422),o=t(37797),i=t(85544),l=o.ZP.form.withConfig({displayName:"CommentFormTemplateStyles__StyledForm",componentId:"sc-1dqa7xz-0"})([""]),a=o.ZP.div.withConfig({displayName:"CommentFormTemplateStyles__StyledFormHeader",componentId:"sc-1dqa7xz-1"})(["color:",";font-size:24px;font-weight:600;line-height:32px;margin-bottom:16px;"],r.ZP.gray2),s=o.ZP.div.withConfig({displayName:"CommentFormTemplateStyles__StyledFormError",componentId:"sc-1dqa7xz-2"})(["background:#faa;border-radius:3px;margin:0 0 40px;padding:20px;"]),c=o.ZP.div.withConfig({displayName:"CommentFormTemplateStyles__StyledButtonBar",componentId:"sc-1dqa7xz-3"})(["margin-top:5px;"]),d=o.ZP.div.withConfig({displayName:"CommentFormTemplateStyles__StyledCommentsUserWrapper",componentId:"sc-1dqa7xz-4"})(["background-color:",";border-radius:6px;box-shadow:"," 0 1px 4px;left:",";min-width:150px;position:absolute;top:",";z-index:1;"],r.ZP.white,(0,r.E9)(r.ZP.black,.4),(function(e){return"".concat(e.cursorLeft,"px")}),(function(e){return"".concat(e.cursorTop,"px")})),u=o.ZP.li.withConfig({displayName:"CommentFormTemplateStyles__StyledLisItem",componentId:"sc-1dqa7xz-5"})(["background-color:",";border-radius:6px;color:",";&:hover{background-color:",";transition:all 0.3s ease;}"],(function(e){return e.selectedUser?r.ZP.blue:r.ZP.white}),(function(e){return e.selectedUser?r.ZP.white:r.ZP.grayDark}),(0,r.E9)(r.ZP.blue2,.15)),p=(0,o.ZP)(i.Z).withConfig({displayName:"CommentFormTemplateStyles__StyledUserMentionButton",componentId:"sc-1dqa7xz-6"})(["border:none;color:inherit;display:block;font-size:inherit;font-weight:inherit;padding:4px 8px;text-align:left;width:100%;&:not(:disabled):hover{background-color:transparent;}"])},19022:function(e,n,t){var r=t(50029),o=t(59499),i=t(87794),l=t.n(i),a=t(67294),s=t(26125),c=t(98954),d=t(85544),u=t(13416),p=t(68975),m=t(44268),f=t(99563),h=t(85893);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=function(e){var n=e.topLevel,t=e.topLevelType,o=e.parent,i=e.parentType,g=e.onSave,y=e.showHeader,b=e.record,v=e.buttonText,C=e.type,w=e.count,j=e.usersThread,Z=(0,c.Z)(),_=(0,a.useState)({content:null===b||void 0===b?void 0:b.content}),k=_[0],S=_[1],P=(0,a.useCallback)((function(e){return S((function(n){return x(x({},n),{},{content:e})}))}),[]),T=(0,a.useState)("hidden"),L=T[0],N=T[1],I=(0,a.useState)(!1),O=I[0],D=I[1],z=(0,a.useState)(null),U=z[0],F=z[1],E=function(){var e=(0,r.Z)(l().mark((function e(r){var a,c,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!O){e.next=3;break}return e.abrupt("return");case 3:if(D(!0),F(null),a=x(x({},k),{},{parent_id:o.id,parent_type:i,top_level_id:n.id,top_level_type:t,type:C}),c=function(e){console.error(e),D(!1),F(e.message)},null===b||void 0===b||!b.id){e.next=13;break}return e.next=10,(0,s.uA)(Z.token,b.id,a).catch(c);case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,(0,s.Yr)(Z.token,a).catch(c);case 15:e.t0=e.sent;case 16:if(d=e.t0){e.next=19;break}return e.abrupt("return");case 19:D(!1),F(null),S({content:""}),"published"===d.state?g(d):N(d.state);case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{children:[y&&(0,h.jsx)(f.mI,{children:w>0?"".concat(w," Comments"):"Leave a comment"}),(0,h.jsxs)(f.Gq,{children:[U&&(0,h.jsxs)(f.uI,{children:[(0,h.jsx)("b",{children:"An error occurred when saving the comment:"})," ",U]}),(0,h.jsx)(p.Z,{value:k.content||"",onChange:P,disabled:null===Z.user||O,required:!0,placeholder:"Leave a comment...",usersThread:j})]}),(0,h.jsxs)(f.sD,{children:[null===Z.user?(0,h.jsx)(u.Z,{className:"is-community blue is-sign-in",url:Z.signIn,children:"Login to Comment"}):(0,h.jsx)(d.Z,{className:"is-community blue",onClick:function(e){return E(e)},disabled:O,children:v}),"hidden"!==L&&(0,h.jsx)(m.Z,{type:"comment",state:L})]})]})})};n.Z=y,y.defaultProps={showHeader:!0,record:null,buttonText:"Comment",type:"",count:0}},26736:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(790),o=t(89006),i=t(2940),l=t(18422),a=t(37797),s=a.ZP.div.withConfig({displayName:"CommentsTemplateStyles__StyledCommentsContainer",componentId:"sc-k3bvlc-0"})(["display:flex;flex-direction:column;line-height:1.4;margin:0 auto;position:relative;width:100%;","{margin:0;}"],(0,i.X)(i.A.desktop)),c=a.ZP.div.withConfig({displayName:"CommentsTemplateStyles__StyledCommentHeader",componentId:"sc-k3bvlc-1"})(["border:10px ",";border-bottom:solid #e4e8ed;color:",";font-size:20px;font-weight:500;line-height:20px;padding:20px;text-align:center;text-decoration:underline solid ",";text-underline-offset:23px;"],l.ZP.grayLight,l.ZP.blueDark,l.ZP.blueLight),d=t(85893),u=function(e){var n=e.records,t=e.topLevelType,i=e.topLevel,l=e.handleUpdatedTopLevel,a=e.title,u=e.align,p=e.showTitle,m=e.loadNested,f=e.replyable,h=e.urlFormatter,g=e.onLoadMore,x=e.handleUpdatedComment,y=e.hasMoreComments,b=e.upvotable,v=e.users;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(s,{children:[a.length>0&&p?(0,d.jsxs)(c,{children:[a,"s"]}):null,n.map((function(e){return(0,d.jsx)(r.Z,{record:e,topLevelType:t,topLevel:i,handleUpdatedTopLevel:l,loadNested:m,align:u,replyable:f,handleUpdatedComment:x,urlFormatter:h,upvotable:b,users:v},e.id)})),y?(0,d.jsx)(o.Z,{onClick:g,visible:n.length>0,message:"Load More ".concat(a,"s")}):null]})})},p=u;u.defaultProps={align:null,title:"Comment",showTitle:!1,loadNested:!1,replyable:!1,urlFormatter:function(){return"#"},topLevel:null,handleUpdatedTopLevel:function(){},onLoadMore:function(){},hasMoreComments:!1,upvotable:!1}},44268:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(37797).ZP.div.withConfig({displayName:"SpamErrorTemplateStyles__StyledSpamError",componentId:"sc-a41zpz-0"})(["background:#ffeaea;border-radius:5px;box-sizing:border-box;color:#b62929;font-size:18px;margin-bottom:10px;margin-top:30px;padding:17px;position:relative;width:100%;p{font-size:17px;width:80%;&:first-child{font-weight:500;}}a{color:inherit;text-decoration:underline;word-break:keep-all;}"]),o=t(85893),i=function(e){var n=e.type,t=e.state;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(r,{children:"spam"===t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:["This"," ",n," ","has been flagged as spam by our system."," ","Please do not attempt to re-post this"," ",n,"."]}),(0,o.jsxs)("p",{children:["If you believe this was a mistake,"," ","please contact"," ",(0,o.jsx)("a",{href:"mailto:community-spam@digitalocean.com",children:"community-spam@digitalocean.com"})," ","to appeal."]})]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:["This community submission is"," ",(0,o.jsx)("b",{children:"currently under review"})," ","and must be approved by a site moderator before being publicly available."]})})})})}},4210:function(e,n,t){t.d(n,{qQ:function(){return i},jR:function(){return l}});var r=t(67294),o=t(85893),i=function(){var e=(0,r.useRef)(null);return[function(){return window.scrollTo({top:e.current.offsetTop-100})},e]},l=function(e,n){return(0,o.jsx)("div",{ref:n,children:e})};n.ZP=function(){var e=(0,r.useRef)(null);return[function(){return e.current.scrollIntoView()},e]}},79168:function(e,n){n.Z=function(e){return e.id?e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.first_name||e.last_name||e.username:""}}}]);